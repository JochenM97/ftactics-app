!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.anime=t()}(this,function(){"use strict";var e={update:null,begin:null,loopBegin:null,changeBegin:null,change:null,changeComplete:null,loopComplete:null,complete:null,loop:1,direction:"normal",autoplay:!0,timelineOffset:0},t={duration:1e3,delay:0,endDelay:0,easing:"easeOutElastic(1, .5)",round:0},n=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective"],r={CSS:{},springs:{}};function a(e,t,n){return Math.min(Math.max(e,t),n)}function i(e,t){return e.indexOf(t)>-1}function o(e,t){return e.apply(null,t)}var s={arr:function(e){return Array.isArray(e)},obj:function(e){return i(Object.prototype.toString.call(e),"Object")},pth:function(e){return s.obj(e)&&e.hasOwnProperty("totalLength")},svg:function(e){return e instanceof SVGElement},inp:function(e){return e instanceof HTMLInputElement},dom:function(e){return e.nodeType||s.svg(e)},str:function(e){return"string"==typeof e},fnc:function(e){return"function"==typeof e},und:function(e){return void 0===e},hex:function(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e)},rgb:function(e){return/^rgb/.test(e)},hsl:function(e){return/^hsl/.test(e)},col:function(e){return s.hex(e)||s.rgb(e)||s.hsl(e)},key:function(n){return!e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&"targets"!==n&&"keyframes"!==n}};function u(e){var t=/\(([^)]+)\)/.exec(e);return t?t[1].split(",").map(function(e){return parseFloat(e)}):[]}function c(e,t){var n=u(e),i=a(s.und(n[0])?1:n[0],.1,100),o=a(s.und(n[1])?100:n[1],.1,100),c=a(s.und(n[2])?10:n[2],.1,100),l=a(s.und(n[3])?0:n[3],.1,100),f=Math.sqrt(o/i),d=c/(2*Math.sqrt(o*i)),p=d<1?f*Math.sqrt(1-d*d):0,h=1,m=d<1?(d*f-l)/p:-l+f;function y(e){var n=t?t*e/1e3:e;return n=d<1?Math.exp(-n*d*f)*(h*Math.cos(p*n)+m*Math.sin(p*n)):(h+m*n)*Math.exp(-n*f),0===e||1===e?e:1-n}return t?y:function(){var t=r.springs[e];if(t)return t;for(var n=0,a=0;;)if(1===y(n+=1/6)){if(++a>=16)break}else a=0;var i=n*(1/6)*1e3;return r.springs[e]=i,i}}function l(e,t){void 0===e&&(e=1),void 0===t&&(t=.5);var n=a(e,1,10),r=a(t,.1,2);return function(e){return 0===e||1===e?e:-n*Math.pow(2,10*(e-1))*Math.sin((e-1-r/(2*Math.PI)*Math.asin(1/n))*(2*Math.PI)/r)}}function f(e){return void 0===e&&(e=10),function(t){return Math.round(t*e)*(1/e)}}var d=function(){var e=11,t=1/(e-1);function n(e,t){return 1-3*t+3*e}function r(e,t){return 3*t-6*e}function a(e){return 3*e}function i(e,t,i){return((n(t,i)*e+r(t,i))*e+a(t))*e}function o(e,t,i){return 3*n(t,i)*e*e+2*r(t,i)*e+a(t)}return function(n,r,a,s){if(0<=n&&n<=1&&0<=a&&a<=1){var u=new Float32Array(e);if(n!==r||a!==s)for(var c=0;c<e;++c)u[c]=i(c*t,n,a);return function(e){return n===r&&a===s?e:0===e||1===e?e:i(l(e),r,s)}}function l(r){for(var s=0,c=1,l=e-1;c!==l&&u[c]<=r;++c)s+=t;var f=s+(r-u[--c])/(u[c+1]-u[c])*t,d=o(f,n,a);return d>=.001?function(e,t,n,r){for(var a=0;a<4;++a){var s=o(t,n,r);if(0===s)return t;t-=(i(t,n,r)-e)/s}return t}(r,f,n,a):0===d?f:function(e,t,n,r,a){for(var o,s,u=0;(o=i(s=t+(n-t)/2,r,a)-e)>0?n=s:t=s,Math.abs(o)>1e-7&&++u<10;);return s}(r,s,s+t,n,a)}}}(),p=function(){var e=["Quad","Cubic","Quart","Quint","Sine","Expo","Circ","Back","Elastic"],t={In:[[.55,.085,.68,.53],[.55,.055,.675,.19],[.895,.03,.685,.22],[.755,.05,.855,.06],[.47,0,.745,.715],[.95,.05,.795,.035],[.6,.04,.98,.335],[.6,-.28,.735,.045],l],Out:[[.25,.46,.45,.94],[.215,.61,.355,1],[.165,.84,.44,1],[.23,1,.32,1],[.39,.575,.565,1],[.19,1,.22,1],[.075,.82,.165,1],[.175,.885,.32,1.275],function(e,t){return function(n){return 1-l(e,t)(1-n)}}],InOut:[[.455,.03,.515,.955],[.645,.045,.355,1],[.77,0,.175,1],[.86,0,.07,1],[.445,.05,.55,.95],[1,0,0,1],[.785,.135,.15,.86],[.68,-.55,.265,1.55],function(e,t){return function(n){return n<.5?l(e,t)(2*n)/2:1-l(e,t)(-2*n+2)/2}}]},n={linear:[.25,.25,.75,.75]},r=function(r){t[r].forEach(function(t,a){n["ease"+r+e[a]]=t})};for(var a in t)r(a);return n}();function h(e,t){if(s.fnc(e))return e;var n=e.split("(")[0],r=p[n],a=u(e);switch(n){case"spring":return c(e,t);case"cubicBezier":return o(d,a);case"steps":return o(f,a);default:return s.fnc(r)?o(r,a):o(d,r)}}function m(e){try{return document.querySelectorAll(e)}catch(e){return}}function y(e,t){for(var n=e.length,r=arguments.length>=2?arguments[1]:void 0,a=[],i=0;i<n;i++)if(i in e){var o=e[i];t.call(r,o,i,e)&&a.push(o)}return a}function g(e){return e.reduce(function(e,t){return e.concat(s.arr(t)?g(t):t)},[])}function v(e){return s.arr(e)?e:(s.str(e)&&(e=m(e)||e),e instanceof NodeList||e instanceof HTMLCollection?[].slice.call(e):[e])}function b(e,t){return e.some(function(e){return e===t})}function x(e){var t={};for(var n in e)t[n]=e[n];return t}function j(e,t){var n=x(e);for(var r in e)n[r]=t.hasOwnProperty(r)?t[r]:e[r];return n}function w(e,t){var n=x(e);for(var r in t)n[r]=s.und(e[r])?t[r]:e[r];return n}function _(e){var t=/([\+\-]?[0-9#\.]+)(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(e);if(t)return t[2]}function O(e,t){return s.fnc(e)?e(t.target,t.id,t.total):e}function M(e,t){return e.getAttribute(t)}function k(e,t,n){if(b([n,"deg","rad","turn"],_(t)))return t;var a=r.CSS[t+n];if(!s.und(a))return a;var i=document.createElement(e.tagName),o=e.parentNode&&e.parentNode!==document?e.parentNode:document.body;o.appendChild(i),i.style.position="absolute",i.style.width=100+n;var u=100/i.offsetWidth;o.removeChild(i);var c=u*parseFloat(t);return r.CSS[t+n]=c,c}function C(e,t,n){if(t in e.style){var r=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),a=e.style[t]||getComputedStyle(e).getPropertyValue(r)||"0";return n?k(e,a,n):a}}function I(e,t){return s.dom(e)&&!s.inp(e)&&(M(e,t)||s.svg(e)&&e[t])?"attribute":s.dom(e)&&b(n,t)?"transform":s.dom(e)&&"transform"!==t&&C(e,t)?"css":null!=e[t]?"object":void 0}function E(e){if(s.dom(e)){for(var t,n=e.style.transform||"",r=/(\w+)\(([^)]*)\)/g,a=new Map;t=r.exec(n);)a.set(t[1],t[2]);return a}}function N(e,t,n,r){switch(I(e,t)){case"transform":return function(e,t,n,r){var a,o=i(t,"scale")?1:0+(i(a=t,"translate")||"perspective"===a?"px":i(a,"rotate")||i(a,"skew")?"deg":void 0),s=E(e).get(t)||o;return n&&(n.transforms.list.set(t,s),n.transforms.last=t),r?k(e,s,r):s}(e,t,r,n);case"css":return C(e,t,n);case"attribute":return M(e,t);default:return e[t]||0}}function P(e,t){var n=/^(\*=|\+=|-=)/.exec(e);if(!n)return e;var r=_(e)||0,a=parseFloat(t),i=parseFloat(e.replace(n[0],""));switch(n[0][0]){case"+":return a+i+r;case"-":return a-i+r;case"*":return a*i+r}}function T(e,t){if(s.col(e))return function(e){return s.rgb(e)?(n=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(t=e))?"rgba("+n[1]+",1)":t:s.hex(e)?(r=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(e,t,n,r){return t+t+n+n+r+r}),a=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(r),"rgba("+parseInt(a[1],16)+","+parseInt(a[2],16)+","+parseInt(a[3],16)+",1)"):s.hsl(e)?function(e){var t,n,r,a=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(e)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(e),i=parseInt(a[1],10)/360,o=parseInt(a[2],10)/100,s=parseInt(a[3],10)/100,u=a[4]||1;function c(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}if(0==o)t=n=r=s;else{var l=s<.5?s*(1+o):s+o-s*o,f=2*s-l;t=c(f,l,i+1/3),n=c(f,l,i),r=c(f,l,i-1/3)}return"rgba("+255*t+","+255*n+","+255*r+","+u+")"}(e):void 0;var t,n,r,a}(e);var n=_(e),r=n?e.substr(0,e.length-n.length):e;return t&&!/\s/g.test(e)?r+t:r}function q(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function B(e){for(var t,n=e.points,r=0,a=0;a<n.numberOfItems;a++){var i=n.getItem(a);a>0&&(r+=q(t,i)),t=i}return r}function S(e){if(e.getTotalLength)return e.getTotalLength();switch(e.tagName.toLowerCase()){case"circle":return i=e,2*Math.PI*M(i,"r");case"rect":return 2*M(a=e,"width")+2*M(a,"height");case"line":return q({x:M(r=e,"x1"),y:M(r,"y1")},{x:M(r,"x2"),y:M(r,"y2")});case"polyline":return B(e);case"polygon":return n=(t=e).points,B(t)+q(n.getItem(n.numberOfItems-1),n.getItem(0))}var t,n,r,a,i}function D(e,t){var n=t||{},r=n.el||function(e){for(var t=e.parentNode;s.svg(t)&&(t=t.parentNode,s.svg(t.parentNode)););return t}(e),a=r.getBoundingClientRect(),i=M(r,"viewBox"),o=a.width,u=a.height,c=n.viewBox||(i?i.split(" "):[0,0,o,u]);return{el:r,viewBox:c,x:c[0]/1,y:c[1]/1,w:o/c[2],h:u/c[3]}}function H(e,t){function n(n){void 0===n&&(n=0);var r=t+n>=1?t+n:0;return e.el.getPointAtLength(r)}var r=D(e.el,e.svg),a=n(),i=n(-1),o=n(1);switch(e.property){case"x":return(a.x-r.x)*r.w;case"y":return(a.y-r.y)*r.h;case"angle":return 180*Math.atan2(o.y-i.y,o.x-i.x)/Math.PI}}function L(e,t){var n=/-?\d*\.?\d+/g,r=T(s.pth(e)?e.totalLength:e,t)+"";return{original:r,numbers:r.match(n)?r.match(n).map(Number):[0],strings:s.str(e)||t?r.split(n):[]}}function F(e){return y(e?g(s.arr(e)?e.map(v):v(e)):[],function(e,t,n){return n.indexOf(e)===t})}function A(e){var t=F(e);return t.map(function(e,n){return{target:e,id:n,total:t.length,transforms:{list:E(e)}}})}function X(e,t){var n=x(t);if(/^spring/.test(n.easing)&&(n.duration=c(n.easing)),s.arr(e)){var r=e.length;2!==r||s.obj(e[0])?s.fnc(t.duration)||(n.duration=t.duration/r):e={value:e}}var a=s.arr(e)?e:[e];return a.map(function(e,n){var r=s.obj(e)&&!s.pth(e)?e:{value:e};return s.und(r.delay)&&(r.delay=n?0:t.delay),s.und(r.endDelay)&&(r.endDelay=n===a.length-1?t.endDelay:0),r}).map(function(e){return w(e,n)})}function Y(e,t){var n=[],r=t.keyframes;for(var a in r&&(t=w(function(e){for(var t=y(g(e.map(function(e){return Object.keys(e)})),function(e){return s.key(e)}).reduce(function(e,t){return e.indexOf(t)<0&&e.push(t),e},[]),n={},r=function(r){var a=t[r];n[a]=e.map(function(e){var t={};for(var n in e)s.key(n)?n==a&&(t.value=e[n]):t[n]=e[n];return t})},a=0;a<t.length;a++)r(a);return n}(r),t)),t)s.key(a)&&n.push({name:a,tweens:X(t[a],e)});return n}var W={css:function(e,t,n){return e.style[t]=n},attribute:function(e,t,n){return e.setAttribute(t,n)},object:function(e,t,n){return e[t]=n},transform:function(e,t,n,r,a){if(r.list.set(t,n),t===r.last||a){var i="";r.list.forEach(function(e,t){i+=t+"("+e+") "}),e.style.transform=i}}};function $(e,t){A(e).forEach(function(e){for(var n in t){var r=O(t[n],e),a=e.target,i=_(r),o=N(a,n,i,e),s=P(T(r,i||_(o)),o),u=I(a,n);W[u](a,n,s,e.transforms,!0)}})}function z(e,t){return y(g(e.map(function(e){return t.map(function(t){return function(e,t){var n=I(e.target,t.name);if(n){var r=function(e,t){var n;return e.tweens.map(function(r){var a=function(e,t){var n={};for(var r in e){var a=O(e[r],t);s.arr(a)&&1===(a=a.map(function(e){return O(e,t)})).length&&(a=a[0]),n[r]=a}return n.duration=parseFloat(n.duration),n.delay=parseFloat(n.delay),n}(r,t),i=a.value,o=s.arr(i)?i[1]:i,u=_(o),c=N(t.target,e.name,u,t),l=n?n.to.original:c,f=s.arr(i)?i[0]:l,d=_(f)||_(c),p=u||d;return s.und(o)&&(o=l),a.from=L(f,p),a.to=L(P(o,f),p),a.start=n?n.end:0,a.end=a.start+a.delay+a.duration+a.endDelay,a.easing=h(a.easing,a.duration),a.isPath=s.pth(i),a.isColor=s.col(a.from.original),a.isColor&&(a.round=1),n=a,a})}(t,e),a=r[r.length-1];return{type:n,property:t.name,animatable:e,tweens:r,duration:a.end,delay:r[0].delay,endDelay:a.endDelay}}}(e,t)})})),function(e){return!s.und(e)})}function Z(e,t){var n=e.length,r=function(e){return e.timelineOffset?e.timelineOffset:0},a={};return a.duration=n?Math.max.apply(Math,e.map(function(e){return r(e)+e.duration})):t.duration,a.delay=n?Math.min.apply(Math,e.map(function(e){return r(e)+e.delay})):t.delay,a.endDelay=n?a.duration-Math.max.apply(Math,e.map(function(e){return r(e)+e.duration-e.endDelay})):t.endDelay,a}var Q,V=0,R=[],G=[],J=function(){function e(){Q=requestAnimationFrame(t)}function t(t){var n=R.length;if(n){for(var r=0;r<n;){var a=R[r];if(a.paused){var i=R.indexOf(a);i>-1&&(R.splice(i,1),n=R.length)}else a.tick(t);r++}e()}else Q=cancelAnimationFrame(Q)}return e}();function U(n){void 0===n&&(n={});var r,i=0,o=0,s=0,u=0,c=null;function l(e){var t=window.Promise&&new Promise(function(e){return c=e});return e.finished=t,t}var f,d,p,h,m,g,v,b,x=(d=j(e,f=n),h=Y(p=j(t,f),f),v=Z(g=z(m=A(f.targets),h),p),b=V,V++,w(d,{id:b,children:[],animatables:m,animations:g,duration:v.duration,delay:v.delay,endDelay:v.endDelay}));function _(){var e=x.direction;"alternate"!==e&&(x.direction="normal"!==e?"normal":"reverse"),x.reversed=!x.reversed,r.forEach(function(e){return e.reversed=x.reversed})}function O(e){return x.reversed?x.duration-e:e}function M(){i=0,o=O(x.currentTime)*(1/U.speed)}function k(e,t){t&&t.seek(e-t.timelineOffset)}function C(e){for(var t=0,n=x.animations,r=n.length;t<r;){var i=n[t],o=i.animatable,s=i.tweens,u=s.length-1,c=s[u];u&&(c=y(s,function(t){return e<t.end})[0]||c);for(var l=a(e-c.start-c.delay,0,c.duration)/c.duration,f=isNaN(l)?1:c.easing(l),d=c.to.strings,p=c.round,h=[],m=c.to.numbers.length,g=void 0,v=0;v<m;v++){var b=void 0,j=c.to.numbers[v],w=c.from.numbers[v]||0;b=c.isPath?H(c.value,f*j):w+f*(j-w),p&&(c.isColor&&v>2||(b=Math.round(b*p)/p)),h.push(b)}var _=d.length;if(_){g=d[0];for(var O=0;O<_;O++){d[O];var M=d[O+1],k=h[O];isNaN(k)||(g+=M?k+M:k+" ")}}else g=h[0];W[i.type](o.target,i.property,g,o.transforms),i.currentValue=g,t++}}function I(e){x[e]&&!x.passThrough&&x[e](x)}function E(e){var t=x.duration,n=x.delay,f=t-x.endDelay,d=O(e);x.progress=a(d/t*100,0,100),x.reversePlayback=d<x.currentTime,r&&function(e){if(x.reversePlayback)for(var t=u;t--;)k(e,r[t]);else for(var n=0;n<u;n++)k(e,r[n])}(d),!x.began&&x.currentTime>0&&(x.began=!0,I("begin"),I("loopBegin")),d<=n&&0!==x.currentTime&&C(0),(d>=f&&x.currentTime!==t||!t)&&C(t),d>n&&d<f?(x.changeBegan||(x.changeBegan=!0,x.changeCompleted=!1,I("changeBegin")),I("change"),C(d)):x.changeBegan&&(x.changeCompleted=!0,x.changeBegan=!1,I("changeComplete")),x.currentTime=a(d,0,t),x.began&&I("update"),e>=t&&(o=0,x.remaining&&!0!==x.remaining&&x.remaining--,x.remaining?(i=s,I("loopComplete"),I("loopBegin"),"alternate"===x.direction&&_()):(x.paused=!0,x.completed||(x.completed=!0,I("loopComplete"),I("complete"),!x.passThrough&&"Promise"in window&&(c(),l(x)))))}return l(x),x.reset=function(){var e=x.direction;x.passThrough=!1,x.currentTime=0,x.progress=0,x.paused=!0,x.began=!1,x.changeBegan=!1,x.completed=!1,x.changeCompleted=!1,x.reversePlayback=!1,x.reversed="reverse"===e,x.remaining=x.loop,r=x.children;for(var t=u=r.length;t--;)x.children[t].reset();(x.reversed&&!0!==x.loop||"alternate"===e&&1===x.loop)&&x.remaining++,C(0)},x.set=function(e,t){return $(e,t),x},x.tick=function(e){s=e,i||(i=s),E((s+(o-i))*U.speed)},x.seek=function(e){E(O(e))},x.pause=function(){x.paused=!0,M()},x.play=function(){x.paused&&(x.completed&&x.reset(),x.paused=!1,R.push(x),M(),Q||J())},x.reverse=function(){_(),M()},x.restart=function(){x.reset(),x.play()},x.reset(),x.autoplay&&x.play(),x}function K(e,t){for(var n=t.length;n--;)b(e,t[n].animatable.target)&&t.splice(n,1)}return"undefined"!=typeof document&&document.addEventListener("visibilitychange",function(){document.hidden?(R.forEach(function(e){return e.pause()}),G=R.slice(0),R=[]):G.forEach(function(e){return e.play()})}),U.version="3.0.1",U.speed=1,U.running=R,U.remove=function(e){for(var t=F(e),n=R.length;n--;){var r=R[n],a=r.animations,i=r.children;K(t,a);for(var o=i.length;o--;){var s=i[o],u=s.animations;K(t,u),u.length||s.children.length||i.splice(o,1)}a.length||i.length||r.pause()}},U.get=N,U.set=$,U.convertPx=k,U.path=function(e,t){var n=s.str(e)?m(e)[0]:e,r=t||100;return function(e){return{property:e,el:n,svg:D(n),totalLength:S(n)*(r/100)}}},U.setDashoffset=function(e){var t=S(e);return e.setAttribute("stroke-dasharray",t),t},U.stagger=function(e,t){void 0===t&&(t={});var n=t.direction||"normal",r=t.easing?h(t.easing):null,a=t.grid,i=t.axis,o=t.from||0,u="first"===o,c="center"===o,l="last"===o,f=s.arr(e),d=f?parseFloat(e[0]):parseFloat(e),p=f?parseFloat(e[1]):0,m=_(f?e[1]:e)||0,y=t.start||0+(f?d:0),g=[],v=0;return function(e,t,s){if(u&&(o=0),c&&(o=(s-1)/2),l&&(o=s-1),!g.length){for(var h=0;h<s;h++){if(a){var b=c?(a[0]-1)/2:o%a[0],x=c?(a[1]-1)/2:Math.floor(o/a[0]),j=b-h%a[0],w=x-Math.floor(h/a[0]),_=Math.sqrt(j*j+w*w);"x"===i&&(_=-j),"y"===i&&(_=-w),g.push(_)}else g.push(Math.abs(o-h));v=Math.max.apply(Math,g)}r&&(g=g.map(function(e){return r(e/v)*v})),"reverse"===n&&(g=g.map(function(e){return i?e<0?-1*e:-e:Math.abs(v-e)}))}return y+(f?(p-d)/v:d)*(Math.round(100*g[t])/100)+m}},U.timeline=function(e){void 0===e&&(e={});var n=U(e);return n.duration=0,n.add=function(r,a){var i=R.indexOf(n),o=n.children;function u(e){e.passThrough=!0}i>-1&&R.splice(i,1);for(var c=0;c<o.length;c++)u(o[c]);var l=w(r,j(t,e));l.targets=l.targets||e.targets;var f=n.duration;l.autoplay=!1,l.direction=n.direction,l.timelineOffset=s.und(a)?f:P(a,f),u(n),n.seek(l.timelineOffset);var d=U(l);u(d),o.push(d);var p=Z(o,e);return n.delay=p.delay,n.endDelay=p.endDelay,n.duration=p.duration,n.seek(0),n.reset(),n.autoplay&&n.play(),n},n},U.easing=h,U.penner=p,U.random=function(e,t){return Math.floor(Math.random()*(t-e+1))+e},U});var keyframes_json=JSON.parse(decodeURIComponent(data)),scaleX=keyframes_json[2],scaleY=keyframes_json[3],field=document.getElementById("field"),interfaceElementsHeight=180,mqls=[window.matchMedia("(max-width: 767px)"),window.matchMedia("(min-width: 768px)"),window.matchMedia("(min-width: 1025px)")];function mediaqueryresponse(e){interfaceElementsHeight=mqls[2].matches?260:mqls[1].matches?240:180}for(var i=0;i<mqls.length;i++)mediaqueryresponse(mqls[i]),mqls[i].addListener(mediaqueryresponse);var scale,stageWidth=100,stageHeight=150;function fitStageIntoParentContainer(){var e,t=document.querySelector("#stage-parent"),n=document.querySelector("#field"),r=t.offsetWidth;e=0==t.offsetHeight?window.innerHeight-interfaceElementsHeight:t.offsetHeight-interfaceElementsHeight;t.offsetWidth>e/1.5?(scale=e/stageHeight,n.style.width=stageWidth*scale+"px",n.style.height=stageHeight*scale+"px"):(scale=(r*=.9)/stageWidth,n.style.width=stageWidth*scale+"px",n.style.height=stageHeight*scale+"px")}fitStageIntoParentContainer();var object_ids=[],all_layers=keyframes_json[4];for(i=0;i<all_layers.length;i++)for(var layer=all_layers[i],y=0;y<layer.length;y++){switch(typeObject=(layer_object=layer[y])[2]){case"red-player":case"blue-player":layer_object_id=typeObject+"-"+(objectNumber=layer_object[3]);break;case"ball":layer_object_id=typeObject}object_ids.includes(layer_object_id)||object_ids.push(layer_object_id)}var x_positions=[],y_positions=[];for(i=0;i<object_ids.length;i++)x_positions[i]=[],y_positions[i]=[];for(y=0;y<all_layers.length;y++){layer=all_layers[y];for(var z=0;z<layer.length;z++){var layer_object,typeObject,layer_object_id;switch(typeObject=(layer_object=layer[z])[2]){case"red-player":case"blue-player":var objectNumber;layer_object_id=typeObject+"-"+(objectNumber=layer_object[3]);break;case"ball":layer_object_id=typeObject}var index=object_ids.indexOf(layer_object_id);x_positions[index].push(scale*layer_object[0]),y_positions[index].push(scale*layer_object[1])}}var tl=anime.timeline({easing:"easeOutExpo",duration:750});for(i=0;i<object_ids.length;i++){var newObject=document.createElement("span");"ball"==object_ids[i]?(newObject.id=object_ids[i],newObject.className="football",newObject.style.width=8*scale+"px",newObject.style.height=8*scale+"px",newObject.style.left=x_positions[i][0]+"px",newObject.style.top=y_positions[i][0]+"px",field.appendChild(newObject)):"red-player"==object_ids[i].slice(0,-2)?(newObject.id=object_ids[i],newObject.className="red-player",newObject.style.width=10*scale+"px",newObject.style.height=10*scale+"px",newObject.style.left=x_positions[i][0]+"px",newObject.style.top=y_positions[i][0]+"px",newObject.innerHTML=object_ids[i].slice(-1),field.appendChild(newObject)):"blue-player"==object_ids[i].slice(0,-2)&&(newObject.id=object_ids[i],newObject.className="blue-player",newObject.style.width=10*scale+"px",newObject.style.height=10*scale+"px",newObject.style.left=x_positions[i][0]+"px",newObject.style.top=y_positions[i][0]+"px",newObject.innerHTML=object_ids[i].slice(-1),field.appendChild(newObject));var target=document.getElementById(object_ids[i]),object_frames=[],timeline_framesX=[],timeline_framesY=[];for(y=1;y<x_positions[0].length;y++)object_frames.push({translateX:x_positions[i][y]-x_positions[i][0],translateY:y_positions[i][y]-y_positions[i][0],duration:1e3}),timeline_framesX.push(x_positions[i][y]-x_positions[i][0]),timeline_framesY.push(y_positions[i][y]-y_positions[i][0]);var backToX=x_positions[i][object_frames.length-1]-x_positions[i][0];object_frames.push({translateX:0,translateY:0,duration:2e3}),anime({targets:target,keyframes:object_frames,easing:"linear",loop:!0})}function countSteps(){}
